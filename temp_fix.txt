      // Fallback: check talent_profiles table (only created when onboarding is complete)
      const { data: talentProfile, error: talentProfileError } = await supabase
        .from('talent_profiles')
        .select('id')
        .eq('user_id', userId)
        .maybeSingle();

      if (talentProfileError) {
        console.error('Error checking talent_profiles table:', talentProfileError);
        return false;
      }

      const hasCompletedOnboarding = !!talentProfile?.id;

      console.log('Talent onboarding check - talent_profiles table:', {
        userId,
        talentProfile,
        hasCompletedOnboarding
      });

      return hasCompletedOnboarding;
